%div{ 'data-controller': 'toggleable' }
  .py-1
    .meal.w-full
      .grid.grid-cols-6.text-xs.text-right.px-2
        .col-span-2.text-left.flex.gap-x-1
          .hidden.shrink-0.flex.items-start{ class: 'pt-0.5', 'data-toggleable-target': 'buttons' }
            = button_tag 'data-action': 'toggleable#toggle', 'data-toggleable-target': 'openButton', class: 'text-gray-800 bg-gray-200 rounded-full hover:bg-gray-300 transition' do
              .h-3.w-3
                = render HeroiconComponent.new(:'plus-sm')
            = button_tag 'data-action': 'toggleable#toggle', 'data-toggleable-target': 'closeButton', class: 'text-gray-800 bg-gray-200 rounded-full hover:bg-gray-300 transition' do
              .h-3.w-3
                = render HeroiconComponent.new(:'minus-sm')
          .grow
            = meal.decorate.display_name
        .col-span-1= format_nutrition_number(meal.kcal)
        .col-span-1= format_nutrition_number(meal.carbs)
        .col-span-1= format_nutrition_number(meal.protein)
        .col-span-1= format_nutrition_number(meal.fat)
    .meal--ingredients.w-full{ 'data-toggleable-target': 'toggleable' }
      - meal.meal_ingredients.ordered_by_food_name_and_amount.each do |meal_ingredient|
        .grid.grid-cols-6.text-xs.text-right.px-2.text-gray-400
          .col-span-2.text-left.pl-4= meal_ingredient.decorate.display_portion_name
          .col-span-1= format_nutrition_number(meal_ingredient.kcal)
          .col-span-1= format_nutrition_number(meal_ingredient.carbs)
          .col-span-1= format_nutrition_number(meal_ingredient.protein)
          .col-span-1= format_nutrition_number(meal_ingredient.fat)
