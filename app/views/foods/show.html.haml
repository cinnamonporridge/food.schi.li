.flex.flex-col.gap-y-8
  .flex.items-center
    .w-full{ 'data-controller': 'toggleable' }
      .flex
        .grow.flex.flex-col.gap-x-1
          %h1.text-sm.uppercase
            = @food.name
          - if @food.vegan?
            .flex.items-end.gap-x-1.text-2xs.text-gray-400
              = render 'icons/vegan', vegan: @food.vegan?
              Vegan
        .shrink-0
          %button.text-gray-500.hover:text-gray-900{ 'data-action': 'toggleable#toggle', 'aria-expanded': 'true', 'aria-haspopup': 'true' }
            .h-4.w-4
              = raw heroicon :'dots-vertical'

      .food-actions.grid.grid-cols-1.gap-2.pt-6.pb-4{ 'data-toggleable-target': 'toggleable', role: "menu" , 'aria-orientation': "vertical", 'tabindex': "-1" }
        = link_to edit_food_path(@food), class: 'w-full button flex items-center justify-center gap-x-2' do
          .h-4.w-4
            = raw heroicon :pencil
          Edit food

        - if @food.deleteable?
          = button_to food_path(@food), class: 'dangerous-button flex gap-x-2', method: :delete do
            .h-4.w-4
              = raw heroicon :trash
            Delete food

  = render 'facts', food: @food

  = render 'portions/index', portions: @food.portions.ordered_by_primary_then_name
