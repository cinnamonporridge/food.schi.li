.flex.flex-wrap.mb-4
  .w-full.flex.gap-x-1
    %h1= @nutrition.name
    = render 'icons/vegan', vegan: @nutrition.vegan?
  .w-full
    = link_to 'Edit', edit_nutrition_path(@nutrition), class: 'shy-link text-xs'

.flex.flex-wrap.my-6
  - if @nutrition.in_recipes.any?
    .flex-1.text-center
      .text-2xs.text-gray-500 Used in
      .text-2xl= @nutrition.in_recipes.count
      .text-sm
        = link_to nutrition_recipes_path(@nutrition) do
          = "#{'recipe'.pluralize(@nutrition.in_recipes.count)}"

  - if @nutrition.on_journal_days.any?
    .flex-1.text-center
      .text-2xs.text-gray-500 Used on
      .text-2xl= @nutrition.on_journal_days.count
      .text-sm
        = link_to nutrition_journal_days_path(@nutrition) do
          = "#{'journal day'.pluralize(@nutrition.on_journal_days.count)}"

.flex.flex-wrap.mb-4
  .w-full
    %h2 Nutrition facts
  .w-full.my-2
    = "100#{@nutrition.unit_abbrevation} contains"
  .w-full
    %ul.text-xs
      %li
        %span.font-bold Kcal
        .float-right.font-bold= @nutrition.kcal
      %li.border-t
        %span.font-bold Carbs
        .float-right.font-bold= @nutrition.carbs
      %li
        Carbs sugar part
        .float-right= @nutrition.carbs_sugar_part
      %li.border-t
        %span.font-bold Protein
        .float-right.font-bold= @nutrition.protein
      %li.border-t
        %span.font-bold Fat
        .float-right.font-bold= @nutrition.fat
      %li
        Fat saturated
        .float-right= @nutrition.fat_saturated
      %li.border-t
        %span.font-bold Fiber
        .float-right.font-bold= @nutrition.fiber

.flex.flex-wrap.mb-6
  .w-full
    %h2 Portions
  .w-full.my-2
    = render 'portions/index', portions: @nutrition.portions
  .w-full.my-2
    = link_to 'Add portion', new_nutrition_portion_path(@nutrition), class: 'f-button f-button-green w-full'

- if @nutrition.deleteable?
  .flex.my-8
    .w-full
      = button_to 'Delete nutrition', nutrition_path(@nutrition), method: :delete, data: { confirm: 'Are you sure?' }, class: 'w-full text-center rounded text-xs bg-gray-50 border p-2 text-gray-400 hover:text-red-500 transition hover:border-red-300'
