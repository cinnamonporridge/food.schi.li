- if meals.any?
  .flex.mb-4.mt-4
    .w-full
      %ul
      - meals.ordered_by_recipe.group_by(&:recipe).each do |recipe, recipe_meals|
        %li.mb-4
          .text-2xs.tracking-wide.uppercase.text-gray-700= recipe&.name || "Other"
          %ul.mt-2
            - recipe_meals.each do |recipe_meal|
              %li.border-0.border-b.border-gray-300.py-2
                .flex
                  .w-full
                    .inline-block
                      .inline= recipe_meal.portion.decorate.name_with_nutrition
                      .inline.text-2xs.text-gray-400= recipe_meal.decorate.quantity_with_pieces
                    .float-right
                      = recipe_meal.decorate.rounded_amount_with_unit_abbrevation
                .flex.text-2xs.mt-2.hidden
                  .w-full
                    = link_to 'Edit', edit_my_journal_day_meal_path(recipe_meal.journal_day, recipe_meal), class: 'shy-link mr-4'
                    = link_to 'Delete', my_journal_day_meal_path(recipe_meal.journal_day, recipe_meal), class: 'shy-link shy-link-red', method: :delete, data: { confirm: 'Are you sure?' }
- else
  .text-gray-400.text-center.tracking-wider.text-2xs No meals yet

.flex.flex-wrap.mb-6
  .w-full.mb-1
    = link_to 'Add portion meal', new_my_journal_day_meal_path(@journal_day), class: 'f-button w-full'
  .w-full.mt-1
    = link_to 'Add recipe meal',  new_my_journal_day_recipe_path(@journal_day), class: 'f-button w-full'
